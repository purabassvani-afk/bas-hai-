<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Symmetrical Heart - Master Build</title>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@400;700&family=Dancing+Script:wght@600;700&family=Montserrat:wght@300;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --dark-pink: #ff2a6d;
            --main-pink: #ffafcc;
            --bg-dark: #0a0a0a;
            --trap-bg: #150a15; 
            --real-bg: #1e0a1a; 
            --dull-grey: #333333;
        }

        body { margin: 0; padding: 0; height: 100vh; width: 100vw; display: flex; justify-content: center; align-items: center; background: var(--bg-dark); overflow: hidden; font-family: 'Montserrat', sans-serif; color: white; transition: background 1s ease; }

        #app { width: 90vh; height: 90vh; max-width: 600px; max-height: 600px; position: relative; overflow: hidden; border-radius: 20px; background: radial-gradient(circle, #1a1a1a 0%, #000 100%); box-shadow: 0 0 50px rgba(255, 42, 109, 0.3); z-index: 10; }

        .particles { position: absolute; width: 100%; height: 100%; top: 0; left: 0; pointer-events: none; z-index: -1; }
        .particle { position: absolute; background: white; border-radius: 50%; opacity: 0.5; animation: float 6s infinite ease-in-out; transition: all 0.8s ease; display: flex; align-items: center; justify-content: center; font-size: 10px; }
        @keyframes float { 0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; } 50% { transform: translateY(-20px) rotate(180deg); opacity: 0.7; } }

        .screen { display: none; flex-direction: column; height: 100%; justify-content: center; align-items: center; text-align: center; position: absolute; width: 100%; }
        .screen.active { display: flex; }

        .btn-action { background: var(--dark-pink); color: white; border: none; padding: 12px 35px; border-radius: 50px; cursor: pointer; font-weight: bold; margin-top: 20px; transition: 0.3s; z-index: 100; }
        .btn-back { position: absolute; top: 20px; left: 20px; background: rgba(255,255,255,0.1); color: white; border: none; padding: 8px 15px; border-radius: 20px; font-size: 0.7rem; cursor: pointer; z-index: 500; transition: 0.3s; }
        .btn-back:hover { background: var(--dark-pink); }
        .handwritten { font-family: 'Dancing Script', cursive; font-size: 2.5rem; }

        .gif-container { width: 180px; height: 180px; background: #2d0d1a; border-radius: 50%; display: flex; justify-content: center; align-items: center; overflow: hidden; border: 4px solid var(--dark-pink); margin-bottom: 20px; box-shadow: 0 0 35px rgba(255, 42, 109, 0.6); animation: pulse 2s infinite ease-in-out; }
        .gif-container img { width: 85%; height: auto; }

        .meter-container { width: 70%; background: #222; height: 25px; border-radius: 15px; overflow: hidden; margin: 15px 0; border: 2px solid transparent; transition: transform 0.4s; }
        .meter-fill { width: 0%; height: 100%; background: linear-gradient(90deg, var(--main-pink), var(--dark-pink)); }
        .btn-skip { position: absolute; bottom: 30px; right: 30px; background: var(--dark-pink); color: white; border: none; padding: 10px 20px; border-radius: 25px; font-size: 0.85rem; font-weight: bold; cursor: pointer; z-index: 200; }

        #bouquet-area { position: relative; width: 85%; height: 350px; margin: 10px 0; background: transparent; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        .reveal-photo { position: absolute; width: 90%; height: 90%; object-fit: contain; opacity: 0; transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .reveal-photo.reveal { opacity: 1; }

        .flower-picker { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; background: rgba(0,0,0,0.5); padding: 12px; border-radius: 20px; width: 85%; }
        .pick-item { font-size: 1.8rem; cursor: pointer; transition: 0.3s; }

        .mystery-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; width: 80%; margin-top: 20px; }
        .grid-box { aspect-ratio: 1; border: 2px dashed var(--dark-pink); border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s; color: var(--main-pink); text-align: center; }
        
        .grid-box.opened { background: var(--dark-pink) !important; border-style: solid; font-size: 0.95rem; font-weight: 700; color: white; border-color: white; padding: 5px; }
        .grid-box.bluff-opened { background: var(--dull-grey) !important; border-style: solid; color: #ccc; font-size: 0.5rem; opacity: 0.7; padding: 2px; }

        .note-card { background: rgba(255, 175, 204, 0.1); backdrop-filter: blur(15px); border: 1px solid rgba(255, 255, 255, 0.2); width: 85%; padding: 25px 20px; border-radius: 20px; box-shadow: 0 20px 50px rgba(0, 0, 0, 0.6); position: relative; }
        .note-text { font-family: 'Caveat', cursive; font-size: 1.35rem; line-height: 1.3; color: #fff; min-height: 140px; text-align: left; word-wrap: break-word; white-space: pre-wrap; }
        .keyboard { width: 100%; margin-top: 15px; display: flex; flex-direction: column; gap: 5px; padding: 8px; background: rgba(0,0,0,0.4); border-radius: 10px; position: relative; }
        .kb-row { display: flex; justify-content: center; gap: 4px; }
        .key { flex: 1; height: 28px; background: rgba(255,255,255,0.1); border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 0.5rem; color: rgba(255,255,255,0.6); text-transform: uppercase; transition: 0.1s; }
        .key.glow { background: var(--main-pink); color: #000; box-shadow: 0 0 10px var(--main-pink); }

        .finger { position: absolute; width: 30px; height: 30px; background: rgba(255, 255, 255, 0.2); border-radius: 50%; pointer-events: none; z-index: 1000; transition: all 0.1s ease-out; opacity: 0; border: 1px solid rgba(255,255,255,0.4); }
        .finger.visible { opacity: 1; }
        .finger.tapping { transform: scale(0.85); background: rgba(255, 255, 255, 0.4); }

        .mood-grid { display: grid; grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(2, 1fr); gap: 20px; width: 280px; aspect-ratio: 1 / 1; margin-top: 30px; }
        .mood-btn { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.2); border-radius: 20px; cursor: pointer; transition: 0.3s; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        .mood-btn span { font-size: 1.8rem; margin-bottom: 5px; }
        .mood-btn p { margin: 0; font-size: 0.8rem; font-weight: 500; letter-spacing: 1px; }
        .mood-btn:hover { background: var(--dark-pink); transform: scale(1.05); border-color: white; }

        #screen5 { background-size: cover; background-position: center; transition: background 1.5s ease; }
        #scrapbook-area { width: 100%; height: 100%; position: relative; display: flex; justify-content: center; align-items: center; }
        
        .polaroid-main { background: white; padding: 7px 7px 32px 7px; width: 170px; aspect-ratio: 9/16; position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%) scale(0); box-shadow: 0 10px 40px rgba(0,0,0,0.9); z-index: 100; transition: 0.4s; text-align: center; }
        .polaroid-main p { color: #333; margin: 5px 0 0 0; font-size: 1.1rem; font-weight: 800; font-family: 'Dancing Script', cursive; } 
        
        .small-polaroid { position: absolute; width: 85px; aspect-ratio: 9/16; background: white; padding: 4px 4px 18px 4px; box-shadow: 0 5px 15px rgba(0,0,0,0.5); opacity: 0; z-index: 10; transition: 0.4s; text-align: center; cursor: pointer; }
        .small-polaroid p { color: #444; margin: 3px 0 0 0; font-size: 0.55rem; font-weight: 700; font-family: 'Montserrat', sans-serif; overflow: hidden; white-space: nowrap; } 

        .photo-wrapper img { width: 100%; height: 100%; object-fit: contain; }
        .zoom-active { z-index: 5000 !important; transform: translate(-50%, -50%) scale(3.0) !important; }

        .scrapbook-nav { position: absolute; bottom: 20px; width: 100%; display: flex; justify-content: space-between; padding: 0 30px; box-sizing: border-box; }
    </style>
</head>
<body>

<div id="app">
    <div class="particles" id="particles"></div>

    <section id="screen1" class="screen active">
        <div class="gif-container"><img src="https://media.tenor.com/AqDR57xYDdUAAAAM/hi-wave.gif" alt="Teddy"></div>
        <h2 class="handwritten" style="margin: 0;">Hey Beautiful</h2>
        <h2 class="handwritten" style="font-size: 1.8rem; margin-top: 5px; opacity: 0.9;">wanna know your cuteness</h2>
        <button class="btn-action" onclick="showScreen(2)">yeah</button>
    </section>

    <section id="screen2" class="screen">
        <button class="btn-back" onclick="showScreen(1)">‚Üê Back</button>
        <button class="btn-skip" onclick="showScreen('2_5')">wanna see further ‚Üí</button>
        <h2 class="handwritten">check your cuteness</h2>
        <h3 id="meter-percent" style="font-size: 2rem;">0%</h3>
        <div class="meter-container" id="bar-container" onclick="resetBarZoom()">
            <div id="meter-fill" class="meter-fill"></div>
        </div>
        <button id="start-meter-btn" class="btn-action" onclick="runInfiniteMeter()">Start Counting</button>
    </section>

    <section id="screen2_5" class="screen">
        <button class="btn-back" onclick="showScreen(2)">‚Üê Back</button>
        <h2 class="handwritten">Got some flower for you</h2>
        <div id="bouquet-area"></div>
        <div class="flower-picker" id="flower-picker">
            <div class="pick-item" onclick="collectFlower(this)">üå∑</div>
            <div class="pick-item" onclick="collectFlower(this)">üå∑</div>
            <div class="pick-item" onclick="collectFlower(this)">üå∑</div>
            <div class="pick-item" onclick="collectFlower(this)">üå∑</div>
        </div>
        <button id="seal-btn" class="btn-action" style="display:none;" onclick="triggerPetals()">Seal with a Kiss üíã</button>
    </section>

    <section id="screen3" class="screen">
        <button class="btn-back" onclick="showScreen('2_5')">‚Üê Back</button>
        <h2 class="handwritten">Just for you</h2>
        <div class="mystery-grid" id="mystery-grid"></div>
    </section>

    <section id="screen4" class="screen">
        <button class="btn-back" onclick="showScreen(3)">‚Üê Back</button>
        <div class="note-card">
            <div id="finger-l" class="finger"></div>
            <div id="finger-r" class="finger"></div>
            <div class="note-text" id="typewriter-text"></div>
            <div class="keyboard" id="visual-keyboard">
                <div class="kb-row"><div class="key" data-char="q">q</div><div class="key" data-char="w">w</div><div class="key" data-char="e">e</div><div class="key" data-char="r">r</div><div class="key" data-char="t">t</div><div class="key" data-char="y">y</div><div class="key" data-char="u">u</div><div class="key" data-char="i">i</div><div class="key" data-char="o">o</div><div class="key" data-char="p">p</div></div>
                <div class="kb-row"><div class="key" data-char="a">a</div><div class="key" data-char="s">s</div><div class="key" data-char="d">d</div><div class="key" data-char="f">f</div><div class="key" data-char="g">g</div><div class="key" data-char="h">h</div><div class="key" data-char="j">j</div><div class="key" data-char="k">k</div><div class="key" data-char="l">l</div></div>
                <div class="kb-row"><div class="key">‚Üë</div><div class="key" data-char="z">z</div><div class="key" data-char="x">x</div><div class="key" data-char="c">c</div><div class="key" data-char="v">v</div><div class="key" data-char="b">b</div><div class="key" data-char="n">n</div><div class="key" data-char="m">m</div><div class="key">‚å´</div></div>
                <div class="kb-row"><div class="key" style="flex:1.5">123</div><div class="key" data-char=" " style="flex:5">space</div><div id="done-key" class="key" onclick="showScreen('4_5')">done</div></div>
            </div>
        </div>
    </section>

    <section id="screen4_5" class="screen">
        <button class="btn-back" onclick="showScreen(4)">‚Üê Back</button>
        <h2 class="handwritten">Set the vibe...</h2>
        <div class="mood-grid">
            <div class="mood-btn" onclick="applyMood('dreamy')"><span>‚≠ê</span><p>Dreamy</p></div>
            <div class="mood-btn" onclick="applyMood('energetic')"><span>‚ö°</span><p>Energetic</p></div>
            <div class="mood-btn" onclick="applyMood('romantic')"><span>üíñ</span><p>Romantic</p></div>
            <div class="mood-btn" onclick="applyMood('cozy')"><span>‚ú®</span><p>Cozy</p></div>
        </div>
    </section>

    <section id="screen5" class="screen">
        <div id="scrapbook-area">
            <h1 class="handwritten" style="position: absolute; top: 15px; color: white; z-index: 5;">Our Story</h1>
            <div class="polaroid-main" id="hero-photo" onclick="toggleZoom(this)">
                <div class="photo-wrapper"><img src="https://i.ibb.co/TMwHz5nt/Spotify-Installer.jpg" id="slideshow-img"></div>
                <p>Bestie Forever ‚ù§Ô∏è</p>
            </div>
            <div id="scatter-container"></div>
            <div class="scrapbook-nav">
                <button class="btn-action" style="font-size: 0.6rem;" onclick="showScreen('4_5')">‚Üê Back</button>
                <button class="btn-action" style="font-size: 0.6rem;" onclick="location.reload()">Restart ‚Ü∫</button>
            </div>
        </div>
    </section>
</div>

<script>
    const tulipPhotos = ["https://i.ibb.co/nqGxYQ6x/photo1.jpg", "https://i.ibb.co/YT8WDVxG/photo2.jpg", "https://i.ibb.co/ZpJwgtbn/photo3.jpg", "https://i.ibb.co/90rB458/photo4.jpg"];
    const heartPhotos = ["https://i.ibb.co/JR4z92yB/1.jpg", "https://i.ibb.co/yrv8HGz/2.jpg", "https://i.ibb.co/ccsrL9T1/3.jpg", "https://i.ibb.co/p67VSgmd/4.jpg", "https://i.ibb.co/TBxQtn7b/5.jpg", "https://i.ibb.co/ymM58jDn/6.jpg", "https://i.ibb.co/4BzsbGQ/7.jpg", "https://i.ibb.co/Xrv4qFJv/8.jpg", "https://i.ibb.co/5hQ9Hzdp/9.jpg", "https://i.ibb.co/ym2fW6b4/10.jpg", "https://i.ibb.co/pjfMvH8f/11.jpg", "https://i.ibb.co/fGCby641/12.jpg", "https://i.ibb.co/Y7dQvPDb/13.jpg", "https://i.ibb.co/JWHSYVVG/14.jpg", "https://i.ibb.co/qZnHYfD/15.jpg", "https://i.ibb.co/GQDvrjXs/16.jpg", "https://i.ibb.co/HTzNZbxP/extra.jpg", "https://i.ibb.co/ymdmnw0W/new1.jpg", "https://i.ibb.co/Cpjrx46f/new2.jpg", "https://i.ibb.co/dwSWMctP/new3.jpg", "https://i.ibb.co/gh7TS3J/new4.jpg", "https://i.ibb.co/SwBnMyhB/new5.jpg", "https://i.ibb.co/MkZs8zcB/new6.jpg", "https://i.ibb.co/vKfbCPW/new7.jpg", "https://i.ibb.co/bRbJkV0M/new8.jpg"];
    const compliments = ["Best Smile", "Kindest Soul", "Absolute Genius", "Stay Cutie"];
    
    const sweetWords = [
        "Real One üíØ", "Pure Soul", "Safe Space", "Always Real", "Day 1 ü§úü§õ", 
        "Gold Heart", "Irreplaceable", "Truly Wise", "No Judgment", "My Anchor", 
        "Constant ‚ú®", "Brave Heart", "Solid Human", "Rare Vibe", "Unfiltered", 
        "Supportive", "Genuine", "Chaos Queen", "Truth Teller", "Comfort", 
        "Resilient", "Home", "Heart of Gold", "Pure Vibe", "Soul Sister"
    ];
    
    let meterInterval, currentPercent = 0, revealedGoalCount = 0, collectedFlowers = 0;
    let activeZoom = null;

    function showScreen(id) {
        if (meterInterval) clearInterval(meterInterval);
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(`screen${id}`).classList.add('active');
        if(id === 3) initMysteryGrid();
        if(id === 4) startTypewriter();
    }

    function collectFlower(el) {
        if(el.style.opacity === "0") return; 
        const bouquetArea = document.getElementById('bouquet-area');
        const newImg = document.createElement('img');
        newImg.src = tulipPhotos[collectedFlowers];
        newImg.className = 'reveal-photo';
        const randomRot = Math.floor(Math.random() * 30) - 15;
        newImg.style.transform = `scale(0.8) rotate(${randomRot}deg)`;
        bouquetArea.appendChild(newImg);
        setTimeout(() => { newImg.classList.add('reveal'); newImg.style.transform = `scale(1) rotate(${randomRot}deg)`; }, 100);
        el.style.opacity = "0"; el.style.pointerEvents = "none"; collectedFlowers++;
        if (collectedFlowers >= 4) { setTimeout(() => { document.getElementById('flower-picker').style.display = 'none'; document.getElementById('seal-btn').style.display = 'block'; }, 600); }
    }

    function triggerPetals() {
        for(let i=0; i<35; i++) {
            const petal = document.createElement('div');
            petal.innerHTML = 'üå∏'; petal.style.position = 'absolute'; petal.style.left = Math.random() * 100 + '%'; petal.style.top = '-50px'; petal.style.fontSize = Math.random() * 20 + 15 + 'px'; petal.style.zIndex = '1000'; petal.style.transition = `all ${Math.random() * 2 + 1}s linear`; document.body.appendChild(petal);
            setTimeout(() => { petal.style.top = '110vh'; petal.style.transform = `rotate(${Math.random() * 360}deg)`; }, 50); setTimeout(() => petal.remove(), 3000);
        }
        setTimeout(() => showScreen(3), 1000);
    }

    function applyMood(mood) {
        const bodyBg = document.body; const particles = document.querySelectorAll('.particle');
        if(mood === 'dreamy') { bodyBg.style.background = "linear-gradient(to bottom, #1a2a6c, #b21f1f, #fdbb2d)"; particles.forEach(p => { p.innerHTML = "‚≠ê"; p.style.background = "transparent"; p.style.color = "#fff"; }); }
        else if(mood === 'energetic') { bodyBg.style.background = "linear-gradient(135deg, #000c18, #004e92, #00d2ff)"; particles.forEach(p => { p.innerHTML = "‚ö°"; p.style.background = "transparent"; p.style.color = "#00d2ff"; }); }
        else if(mood === 'romantic') { bodyBg.style.background = "linear-gradient(to bottom, #2c0812, #800e13, #ff4d6d)"; particles.forEach(p => { p.innerHTML = "‚ù§"; p.style.background = "transparent"; p.style.color = "#ffafcc"; }); }
        else if(mood === 'cozy') { bodyBg.style.background = "linear-gradient(to bottom, #2c3e50, #000000)"; particles.forEach(p => { p.innerHTML = ""; p.style.background = "rgba(255,255,255,0.2)"; p.style.boxShadow = "0 0 10px #fff"; }); }
        startScrapbook();
    }

    function startTypewriter() {
        const text = "I just wanted to tell you something... you really are special in a way that's hard to explain. There's a softness in the way you talk, and something genuine about you that just feels good to be around.";
        const element = document.getElementById('typewriter-text'); 
        const fL = document.getElementById('finger-l'); 
        const fR = document.getElementById('finger-r');
        element.innerText = ''; 
        let i = 0; 
        const leftHandKeys = "qwertaszxcvb123"; 

        function type() {
            if (i < text.length) {
                const char = text.charAt(i).toLowerCase();
                element.innerText += text.charAt(i);
                const targetKey = char === " " ? document.querySelector('.key[data-char=" "]') : document.querySelector(`.key[data-char="${char}"]`);
                if (targetKey) {
                    const keyRect = targetKey.getBoundingClientRect();
                    const noteRect = document.querySelector('.note-card').getBoundingClientRect();
                    const activeFinger = leftHandKeys.includes(char) ? fL : fR;
                    activeFinger.classList.add('visible', 'tapping');
                    activeFinger.style.left = (keyRect.left - noteRect.left + keyRect.width / 2 - 15) + "px";
                    activeFinger.style.top = (keyRect.top - noteRect.top + keyRect.height / 2 - 15) + "px";
                    targetKey.classList.add('glow');
                    setTimeout(() => {
                        activeFinger.classList.remove('tapping');
                        targetKey.classList.remove('glow');
                    }, 100);
                }
                i++;
                setTimeout(type, 110); 
            } else {
                fL.classList.remove('visible'); 
                fR.classList.remove('visible');
                document.getElementById('done-key').style.background = "var(--dark-pink)";
                document.getElementById('done-key').style.color = "white";
            }
        }
        type();
    }

    function initMysteryGrid() {
        revealedGoalCount = 0; const grid = document.getElementById('mystery-grid'); grid.innerHTML = '';
        const items = [...compliments.map(c => ({val: c, real: true})), ...Array(5).fill({val: "Try other box", real: false})].sort(() => Math.random() - 0.5);
        items.forEach(item => {
            const box = document.createElement('div'); box.className = 'grid-box'; box.innerText = 'üéÅ'; box.style.background = item.real ? "var(--real-bg)" : "var(--trap-bg)";
            box.onclick = () => {
                if (box.classList.contains('opened') || box.classList.contains('bluff-opened')) return; box.innerText = item.val; 
                if (item.real) { box.classList.add('opened'); revealedGoalCount++; if (revealedGoalCount === compliments.length) { setTimeout(() => showScreen(4), 800); } }
                else { box.classList.add('bluff-opened'); }
            };
            grid.appendChild(box);
        });
    }

    function runInfiniteMeter() { 
        document.getElementById('start-meter-btn').style.display = 'none'; 
        meterInterval = setInterval(() => { currentPercent += Math.floor(Math.random() * 5) + 2; document.getElementById('meter-fill').style.width = (currentPercent % 100) + '%'; document.getElementById('meter-percent').innerText = currentPercent + '%'; }, 80); 
    }
    
    function resetBarZoom() { const bar = document.getElementById('bar-container'); bar.classList.add('bar-zoom'); setTimeout(() => bar.classList.remove('bar-zoom'), 800); }

    function startScrapbook() {
        showScreen(5);
        const container = document.getElementById('scatter-container');
        container.innerHTML = '';
        const hero = document.getElementById('hero-photo');
        setTimeout(() => { hero.style.transform = "translate(-50%, -50%) scale(1)"; }, 400);

        heartPhotos.forEach((link, i) => {
            const div = document.createElement('div');
            div.className = 'small-polaroid';
            let t, radius;
            if (i < 15) { t = (i / 15) * 2 * Math.PI; radius = 45; } 
            else { t = ((i - 15) / 10) * 2 * Math.PI; radius = 25; }
            const heartX = 16 * Math.pow(Math.sin(t), 3);
            const heartY = -(13 * Math.cos(t) - 5 * Math.cos(2 * t) - 2 * Math.cos(3 * t) - Math.cos(4 * t));
            const posX = 50 + (heartX / 16) * radius;
            const posY = 50 + (heartY / 13) * radius;
            div.style.left = posX + '%'; div.style.top = posY + '%';
            const tilt = Math.random() * 30 - 15;
            div.style.transform = `translate(-50%, -50%) rotate(${tilt}deg) scale(0)`;
            const word = sweetWords[i % sweetWords.length];
            div.innerHTML = `<div class="photo-wrapper"><img src="${link}"></div><p>${word}</p>`;
            div.onclick = () => toggleZoom(div);
            container.appendChild(div);
            setTimeout(() => {
                div.style.opacity = "1";
                div.style.transform = `translate(-50%, -50%) rotate(${tilt}deg) scale(1)`;
            }, 800 + (i * 60));
        });
        startSlideshow();
    }

    function toggleZoom(el) {
        if (activeZoom === el) { el.classList.remove('zoom-active'); activeZoom = null; }
        else { if (activeZoom) activeZoom.classList.remove('zoom-active'); activeZoom = el; el.classList.add('zoom-active'); }
    }

    function startSlideshow() {
        const photos = ["https://i.ibb.co/TMwHz5nt/Spotify-Installer.jpg", ...heartPhotos];
        let idx = 0;
        setInterval(() => {
            const img = document.getElementById('slideshow-img');
            if(img && !activeZoom && document.getElementById('screen5').classList.contains('active')) {
                idx = (idx + 1) % photos.length;
                img.style.opacity = "0.5"; setTimeout(() => { img.src = photos[idx]; img.style.opacity = "1"; }, 300);
            }
        }, 3000);
    }

    const pContainer = document.getElementById('particles');
    for (let i = 0; i < 40; i++) {
        const p = document.createElement('div');
        p.className = 'particle'; p.style.left = Math.random() * 100 + '%'; p.style.top = Math.random() * 100 + '%';
        p.style.animationDelay = Math.random() * 5 + 's'; pContainer.appendChild(p);
    }
</script>
</body>
</html>